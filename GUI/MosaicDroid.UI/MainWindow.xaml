<Window x:Class="MosaicDroid.UI.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="MosaicDroid" Height="600" Width="900">
    <DockPanel>
        <!-- Top toolbar -->
        <StackPanel Orientation="Horizontal" DockPanel.Dock="Top" Margin="5">
            <TextBlock VerticalAlignment="Center" Text="Size:" Margin="0,0,5,0"/>
            <TextBox   x:Name="SizeBox"   Width="50" Text="40" Margin="0,0,15,0"/>
            <Button    x:Name="ResizeBtn" Content="Resize" Margin="0,0,15,0"
                 Click="ResizeBtn_Click"/>
            <Button    x:Name="LoadBtn"   Content="Load"   Click="LoadBtn_Click"/>
            <Button    x:Name="SaveBtn"   Content="Save"   Click="SaveBtn_Click"/>
            <Button    x:Name="RunBtn"    Content="Run"    Click="RunBtn_Click"/>
        </StackPanel>

        <!-- Main area -->
        <Grid>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="2*"/>
                <ColumnDefinition Width="4*"/>
                <ColumnDefinition Width="2*"/>
            </Grid.ColumnDefinitions>

            <!-- Line numbers + editor -->
            <Grid Grid.Column="0">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="30"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>
                <ListBox   x:Name="LineNums" FontFamily="Consolas"
                   IsHitTestVisible="False"/>
                <TextBox   x:Name="Editor" Grid.Column="1" FontFamily="Consolas"
                   AcceptsReturn="True"
                   VerticalScrollBarVisibility="Auto"
                   TextChanged="Editor_TextChanged"/>
            </Grid>

            <!-- Pixel grid -->
            <ScrollViewer Grid.Column="1" HorizontalScrollBarVisibility="Auto"
                    VerticalScrollBarVisibility="Auto">
                <UniformGrid x:Name="PixelGrid" />
            </ScrollViewer>

            <!-- Documentation panel -->
            <TextBox Grid.Column="2" 
         Text="{Binding InstructionDocs, Mode=OneWay}"
         IsReadOnly="True" 
         TextWrapping="Wrap"
         VerticalScrollBarVisibility="Auto"/>
        </Grid>
    </DockPanel>
</Window>
